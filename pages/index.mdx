import { HomeTemplate } from '@/components/HomeTemplate'
import { generateRssFeed } from '@/lib/generateRssFeed'
import { getAllBlogposts } from '@/lib/getMdxFiles'

export default (props) => <HomeTemplate meta={meta} {...props} />

export async function getStaticProps() {
  if (process.env.NODE_ENV === 'production') {
    await generateRssFeed()
  }

{/* prettier-ignore */}
  return {
    props: {
      blogposts: (await getAllBlogposts())
        .slice(0, 4)
        .map(({ component, ...meta }) => meta),
    },
  }
}

export const meta = {
  headline: 'Assistant Professor in Geomatics Engineering and researcher.',
  imageFilepath: 'avatar.jpg', // relative to home directory
}

I'm José Gonçalves, a lecturer in the Faculty of Science of the University of Porto (FCUP), Department of Geosciences, Enviroment and Land Planning (DGAOT), and a researcher at CIIMAR (Interdisciplinary Centre of Marine and Environmental Research), in the Coastal Monitoring and Management Group. I hold a Ph.D. in Photogrammetry (2001) and a MSc in GIS (1993) from University College London, Department of Geomatic Engineering and a degree in Surveying Engineering from FCUP.
